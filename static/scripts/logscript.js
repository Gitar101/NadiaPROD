function toggleForms(){const loginContainer=document.getElementById("login-container");const registerContainer=document.getElementById("register-container");if(loginContainer.style.display==="none"){loginContainer.style.display="block";registerContainer.style.display="none"}else{loginContainer.style.display="none";registerContainer.style.display="block"}}const passwordInput=document.getElementById("register-password");const passwordStrength=document.createElement("div");passwordStrength.id="password-strength";passwordInput.parentNode.insertBefore(passwordStrength,passwordInput.nextSibling);passwordInput.addEventListener("input",function(){const password=passwordInput.value;let strength=0;if(password.length>=8)strength++;if(/[a-z]/.test(password))strength++;if(/[A-Z]/.test(password))strength++;if(/[0-9]/.test(password))strength++;if(/[^a-zA-Z0-9]/.test(password))strength++;let strengthText="";switch(strength){case 0:strengthText="Very weak";break;case 1:strengthText="Weak";break;case 2:strengthText="Medium";break;case 3:strengthText="Strong";break;case 4:strengthText="Very strong";break;case 5:strengthText="Extremely strong";break}passwordStrength.textContent="Password strength: "+strengthText});document.getElementById("register-form").addEventListener("submit",function(e){e.preventDefault();const username=document.getElementById("register-username").value;const email=document.getElementById("register-email").value;const password=document.getElementById("register-password").value;fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:username,email:email,password:password})}).then(response=>response.json()).then(data=>{if(data.success){window.location.href=data.redirect_url}else{alert("Registration failed: "+data.error)}})["catch"](error=>{console.error("Error:",error);alert("An error occurred. Please try again later.")})});document.getElementById("login-form").addEventListener("submit",function(e){e.preventDefault();const username=document.getElementById("login-username").value;const password=document.getElementById("login-password").value;fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:username,password:password})}).then(response=>response.json()).then(data=>{if(data.success){window.location.href=data.redirect_url}else{alert("Login failed: "+data.error)}})["catch"](error=>{console.error("Error:",error);alert("An error occurred. Please try again later.")})});